(this["webpackJsonpquick-dollas"]=this["webpackJsonpquick-dollas"]||[]).push([[0],{36:function(e,t,n){},41:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(28),i=n.n(s),o=(n(36),n(8)),j=(n(37),n(29)),l=n.n(j),d=n(19),h=n(7),u=n(12),b=n(9),O=n(17),p=n(16),x=n(15),g=n(6),f=n(18);var m=function(e){var t=e.userID,n=new Date,r=String(n.getDate()).padStart(2,"0"),s=String(n.getMonth()+1).padStart(2,"0"),i=n.getFullYear();n=i+"-"+s+"-"+r;var j=Object(a.useState)([]),l=Object(o.a)(j,2),d=l[0],h=l[1],m=Object(a.useState)({amount:0,category:null,date:n,description:""}),y=Object(o.a)(m,2),v=y[0],S=y[1];Object(a.useEffect)((function(){console.log("id in fetch",t),fetch("http://localhost:9000/get-categories",{method:"POST",body:JSON.stringify({user_id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return h(JSON.parse(e))})).catch((function(e){return e}))}),[t]);var C=function(e){S(Object(x.a)(Object(x.a)({},v),{},Object(p.a)({},e.target.name,e.target.value)))},T=d.map((function(e){return Object(c.jsx)("option",{value:e.id,children:e.name},e.id)}));return Object(c.jsx)(O.a,{className:"add-expense",children:Object(c.jsx)(u.a,{children:Object(c.jsxs)(b.a,{children:["add expense",Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Amount"}),Object(c.jsx)(g.a.Control,{type:"number",value:v.amount,name:"amount",onChange:C})]}),Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Category"}),Object(c.jsx)(g.a.Control,{as:"select",value:v.category,name:"category",onChange:C,children:T})]}),Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Date"}),Object(c.jsx)(g.a.Control,{type:"text",value:v.date,name:"date",onChange:C,placeholder:"YEAR-MONTH-DAY"})]}),Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Description"}),Object(c.jsx)(g.a.Control,{type:"text",value:v.description,name:"description",onChange:C,placeholder:"desc"})]})]}),Object(c.jsx)(f.a,{onClick:function(){console.log("amount:",v.amount,"-- category:",v.category,"-- description:",v.description),fetch("http://localhost:9000/add-transaction",{method:"PUT",body:JSON.stringify({trans_info:v,user_id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return e}))},children:"Add"})]})})})};var y=function(e){var t=e.userID;return Object(c.jsx)(O.a,{className:"home",children:Object(c.jsx)(u.a,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(m,{userID:t})})})})},v=n(20);var S=function(e){var t=e.userID,n=function(){console.log("id in fetch",t),fetch("http://localhost:9000/get-categories",{method:"POST",body:JSON.stringify({user_id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return j(JSON.parse(e))})).catch((function(e){return e}))},r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],j=s[1],l=Object(a.useState)({name:"",is_expense:!0,user_id:t}),d=Object(o.a)(l,2),h=d[0],m=d[1],y=Object(a.useState)(!1),S=Object(o.a)(y,2),C=S[0],T=S[1];Object(a.useEffect)((function(){n()}),[t]);var N=function(e){console.log(e.target.name,e.target.value),m(Object(x.a)(Object(x.a)({},h),{},Object(p.a)({},e.target.name,e.target.value)))},A=function(e){var t;t=e.target.id,fetch("http://localhost:9000/delete-category",{method:"DELETE",body:JSON.stringify({id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return e})),T(!0),setTimeout((function(){n(),console.log("not loading"),T(!1)}),1e3)},D=i.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.is_expense?"Expense":"Income"}),Object(c.jsx)("td",{children:Object(c.jsx)(f.a,{onClick:A,id:e.id,children:"DELETE"})})]},e.id)})),E=Object(c.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Category"}),Object(c.jsx)("th",{children:"Type"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:D})]}),_=Object(c.jsxs)("div",{children:[Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Name"}),Object(c.jsx)(g.a.Control,{type:"text",value:h.name,name:"name",onChange:N,placeholder:"Name of category"})]}),Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Type"}),Object(c.jsxs)(g.a.Control,{as:"select",value:h.is_expense,name:"is_expense",onChange:N,children:[Object(c.jsx)("option",{value:!0,children:"Expense"}),Object(c.jsx)("option",{value:!1,children:"Income"})]})]})]}),Object(c.jsx)(f.a,{onClick:function(){fetch("http://localhost:9000/add-category",{method:"PUT",body:JSON.stringify(h),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return e})),T(!0),setTimeout((function(){n(),T(!1)}),1e3)},children:"Add"})]});return Object(c.jsxs)(O.a,{className:"categories",children:[Object(c.jsx)(u.a,{children:Object(c.jsxs)(b.a,{children:["Categories:",C?Object(c.jsx)("div",{children:"*LOADING*"}):null,E]})}),Object(c.jsx)(u.a,{children:Object(c.jsxs)(b.a,{children:["Add Category",_]})})]})},C=[31,28,31,30,31,30,31,31,30,31,30,31];var T=function(e){var t=e.userID,n=function(){fetch("http://localhost:9000/get-transactions",{method:"POST",body:JSON.stringify({start:N.start,end:N.end,user_id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return l(JSON.parse(e))})).catch((function(e){return e}))},r=function(){fetch("http://localhost:9000/get-categories",{method:"POST",body:JSON.stringify({user_id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return y(JSON.parse(e))})).catch((function(e){return e}))},s=Object(a.useState)([]),i=Object(o.a)(s,2),j=i[0],l=i[1],d=Object(a.useState)([]),h=Object(o.a)(d,2),m=h[0],y=h[1],S=Object(a.useState)(function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear();return e=c+"-"+n+"-"+t,parseInt(t)<=15?{start:c+"-"+n+"-01",end:c+"-"+n+"-15"}:{start:c+"-"+n+"-15",end:c+"-"+n+"-"+String(C[parseInt(n)-1])}}()),T=Object(o.a)(S,2),N=T[0],A=T[1],D=Object(a.useState)(!1),E=Object(o.a)(D,2),_=E[0],I=E[1];Object(a.useEffect)((function(){n(),r()}),[t]);var L=function(e){A(Object(x.a)(Object(x.a)({},N),{},Object(p.a)({},e.target.name,e.target.value)))},J=function(e){var t;t=e.target.id,fetch("http://localhost:9000/delete-transaction",{method:"DELETE",body:JSON.stringify({id:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return e})),I(!0),setTimeout((function(){r(),n(),I(!1)}),1e3)},k=Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"Start"}),Object(c.jsx)(g.a.Control,{type:"text",value:N.start,name:"start",onChange:L,placeholder:"YEAR-MONTH-DAY"})]}),Object(c.jsxs)(g.a.Group,{children:[Object(c.jsx)(g.a.Label,{children:"End"}),Object(c.jsx)(g.a.Control,{type:"text",value:N.end,name:"end",onChange:L,placeholder:"YEAR-MONTH-DAY"})]})]}),Object(c.jsx)(f.a,{onClick:function(){n(),r()},children:"Submit"})]}),G=j.map((function(e){var t=m.find((function(t){return t.id===e.category_id}))||{is_expense:!0};return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.description}),Object(c.jsx)("td",{children:"$"+e.amount}),Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:e.date&&e.date.substring(0,10)}),Object(c.jsx)("td",{className:t.is_expense?"":"green",children:t.is_expense?"Expense":"Income"}),Object(c.jsx)("td",{children:Object(c.jsx)(f.a,{onClick:J,id:e.id,children:"DELETE"})})]},e.id)})),P=Object(c.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Description"}),Object(c.jsx)("th",{children:"Amount"}),Object(c.jsx)("th",{children:"Category"}),Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Type"}),Object(c.jsx)("th",{children:"Actions"})]})}),Object(c.jsx)("tbody",{children:G})]});return Object(c.jsxs)(O.a,{className:"edit-categories",children:[Object(c.jsx)(u.a,{children:Object(c.jsxs)(b.a,{children:[_?Object(c.jsx)("div",{children:"*LOADING*"}):null,k]})}),Object(c.jsx)(u.a,{children:Object(c.jsx)(b.a,{children:P})}),Object(c.jsx)(u.a,{children:Object(c.jsx)(b.a,{children:function(){var e=0;return j.forEach((function(t){(m.find((function(e){return e.id===t.category_id}))||{is_expense:!0}).is_expense?e+=t.amount:e-=t.amount})),Object(c.jsxs)("div",{children:["You spent $",e," between ",N.start," and ",N.end]})}()})})]})};n(41);var N=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(),i=Object(o.a)(s,2),j=i[0],u=i[1],b=Object(a.useState)(),O=Object(o.a)(b,2),p=O[0],x=O[1];return console.log("id in app",j),Object(c.jsx)(d.a,{children:Object(c.jsxs)("div",{className:"app",children:[Object(c.jsx)(l.a,{clientId:"180544136485-bildtjala9v81f48f6uq90epp6l7dhnt.apps.googleusercontent.com",buttonText:n?p+" is signed in":"Login with Google",onSuccess:function(e){console.log("in function"),console.log("user",e);var t=e.getBasicProfile();console.log("res ",e.getAuthResponse()),console.log("token",e.getAuthResponse().id_token),r(!0),u(t.getId()),x(t.getName())},onFailure:function(e){return console.log("error with google stuff",e)},cookiePolicy:"single_host_origin",isSignedIn:!0}),Object(c.jsx)("div",{children:p?null:"Please sign in to use the app"}),n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(d.b,{to:"/",children:"Home"})," ",Object(c.jsx)(d.b,{to:"/categories",children:"Categories"})," ",Object(c.jsx)(d.b,{to:"/expenses",children:"Expenses"})," "]}),Object(c.jsx)("div",{children:Object(c.jsxs)(h.c,{children:[Object(c.jsx)(h.a,{path:"/categories",children:Object(c.jsx)("div",{children:Object(c.jsx)(S,{userID:j})})}),Object(c.jsx)(h.a,{path:"/expenses",children:Object(c.jsx)("div",{children:Object(c.jsx)(T,{userID:j})})}),Object(c.jsx)(h.a,{path:"/",children:Object(c.jsx)(y,{userID:j})})]})})]}):null]})})};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.3612dd01.chunk.js.map